<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>–° –î–Ω—ë–º –†–æ–∂–¥–µ–Ω–∏—è!</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <!-- –≠–∫—Ä–∞–Ω —Å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–µ–π -->
  <div class="screen" id="intro-screen">
    <div class="screen-content">
      <h1> –°–µ–∫—Ä–µ—Ç–Ω–æ–µ –ø–∏—Å—å–º–æ </h1>
      <p>–ß—Ç–æ–±—ã –ø—Ä–æ—á–∏—Ç–∞—Ç—å –ø–æ—Å–ª–∞–Ω–∏–µ, —Å–æ–±–µ—Ä–∏ 10 —Å–µ—Ä–¥–µ—á–µ–∫ –∑–∞ 10 —Å–µ–∫—É–Ω–¥!</p>
      <button onclick="startGame()" class="btn">–ù–∞—á–∞—Ç—å –∏–≥—Ä—É!</button>
    </div>
  </div>

  <!-- –≠–∫—Ä–∞–Ω –ø–æ—Ä–∞–∂–µ–Ω–∏—è -->
  <div class="screen hidden" id="game-over-screen">
    <div class="screen-content">
      <h1>üò¢ –£–ø—Å... –¢—ã –ø—Ä–æ–∏–≥—Ä–∞–ª–∞</h1>
      <button onclick="restartGame()" class="btn">–ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –µ—â—ë —Ä–∞–∑!</button>
    </div>
  </div>

  <!-- –≠–∫—Ä–∞–Ω –ø–æ–±–µ–¥—ã -->
  <div class="screen hidden" id="victory-screen">
    <div class="screen-content">
      <h1>üéâ –£–º–Ω–∏—á–∫–∞! –¢—ã –ø—Ä–æ—à–ª–∞!</h1>
      <button onclick="showLetter()" class="btn">–ü–µ—Ä–µ–π—Ç–∏ –∫ –ø–∏—Å—å–º—É üíñ</button>
    </div>
  </div>

  <!-- –ò–≥—Ä–æ–≤—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã -->
  <div class="game-ui hidden">
    <div class="score">–°–æ–±—Ä–∞–Ω–æ: <span id="score">0</span>/10</div>
    <div class="timer">–í—Ä–µ–º—è: <span id="timer">10</span>—Å</div>
  </div>

  <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
  <div class="hearts"></div>
  <div class="text-container hidden">
    <div id="typewriter"><span id="content"></span><span class="cursor">|</span></div>
  </div>

  <script>
  const config = {
    targetHearts: 10,
    gameTime: 10,
    heartSize: { min: 1, max: 5 }
  };

  let score = 0;
  let timeLeft = config.gameTime;
  let isGameActive = false;

  // –≠–ª–µ–º–µ–Ω—Ç—ã –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
  const elements = {
    intro: document.getElementById('intro-screen'),
    gameUI: document.querySelector('.game-ui'),
    gameOver: document.getElementById('game-over-screen'),
    victory: document.getElementById('victory-screen'),
    textContainer: document.querySelector('.text-container'),
    score: document.getElementById('score'),
    timer: document.getElementById('timer')
  };

  // –°—Ç–∞—Ä—Ç –∏–≥—Ä—ã
  function startGame() {
    elements.intro.classList.add('hidden');
    elements.gameUI.classList.remove('hidden');
    resetGameState();
    isGameActive = true;
    startGameLoop();
    createGameHeart();
  }

  // –°–±—Ä–æ—Å —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏–≥—Ä—ã
  function resetGameState() {
    score = 0;
    timeLeft = config.gameTime;
    elements.score.textContent = '0';
    elements.timer.textContent = '10';
    document.querySelectorAll('.game-heart').forEach(heart => heart.remove());
  }

  // –ò–≥—Ä–æ–≤–æ–π —Ü–∏–∫–ª
  function startGameLoop() {
    const gameInterval = setInterval(() => {
      if (!isGameActive) {
        clearInterval(gameInterval);
        return;
      }
      
      timeLeft--;
      elements.timer.textContent = timeLeft;
      
      if(timeLeft <= 0) {
        endGame(false);
        clearInterval(gameInterval);
      }
    }, 1000);
  }

  // –°–æ–∑–¥–∞–Ω–∏–µ –∏–≥—Ä–æ–≤—ã—Ö —Å–µ—Ä–¥–µ—Ü
  function createGameHeart() {
    if (!isGameActive) return;
    
    const heart = document.createElement('div');
    heart.className = 'game-heart';
    heart.style.left = `${Math.random() * 90}%`;
    heart.style.top = `${Math.random() * 90}%`;
    
    heart.addEventListener('click', () => {
      if (!isGameActive) return;
      score++;
      elements.score.textContent = score;
      heart.remove();
      if(score >= config.targetHearts) endGame(true);
    });

    document.body.appendChild(heart);
    setTimeout(() => heart.remove(), 800);
    setTimeout(createGameHeart, 500);
  }

  // –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –∏–≥—Ä—ã
  function endGame(isWin) {
    isGameActive = false;
    elements.gameUI.classList.add('hidden');
    
    if(isWin) {
      elements.victory.classList.remove('hidden');
    } else {
      elements.gameOver.classList.remove('hidden');
    }
  }

  // –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –∏–≥—Ä—ã
  function restartGame() {
    elements.gameOver.classList.add('hidden');
    startGame();
  }

  // –ü–æ–∫–∞–∑ –ø–∏—Å—å–º–∞
  function showLetter() {
    elements.victory.classList.add('hidden');
    document.body.style.background = "#1e1e2f";
    elements.textContainer.classList.remove('hidden');
    startLetterAnimation();
    setInterval(createHeart, 300);
  }

  // –°–æ–∑–¥–∞–Ω–∏–µ —Ñ–æ–Ω–æ–≤—ã—Ö —Å–µ—Ä–¥–µ—á–µ–∫
  function createHeart() {
    const heart = document.createElement("img");
    heart.src = "img/heart.png";
    heart.className = "heart";
    
    const size = Math.random() * 4 + 1;
    const speed = 4 + Math.random() * 3;
    
    heart.style.width = `${size}vw`;
    heart.style.left = `${Math.random() * 100}%`;
    heart.style.animationDuration = `${speed}s`;
    
    document.querySelector(".hearts").appendChild(heart);
    setTimeout(() => heart.remove(), speed * 1000);
  }

  // –ê–Ω–∏–º–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–∞ –ø–∏—Å—å–º–∞
  function startLetterAnimation() {
    const lines = [
      "–î–æ—Ä–æ–≥–∞—è –ö–∞—Ç—é—à–∞!",
      "–ü–æ–∑–¥—Ä–∞–≤–ª—è—é —Ç–µ–±—è —Å —Ç–≤–æ–∏–º –î–Ω—ë–º —Ä–æ–∂–¥–µ–Ω–∏—è!üåü",
      "–ü—É—Å—Ç—å —ç—Ç–æ—Ç –¥–µ–Ω—å –æ–∑–∞—Ä–∏—Ç—Å—è —É–ª—ã–±–∫–∞–º–∏, —Ç–µ–ø–ª–æ–º –±–ª–∏–∑–∫–∏—Ö –∏ –∏—Å–∫—Ä–µ–Ω–Ω–∏–º–∏ –ø–æ–∂–µ–ª–∞–Ω–∏—è–º–∏",
      "–ñ–µ–ª–∞—é —Ç–µ–±–µ:",
      "‚ú® –ë–µ–∑–≥—Ä–∞–Ω–∏—á–Ω–æ–π —Ä–∞–¥–æ—Å—Ç–∏ - —Ç–∞–∫–æ–π, –∫–∞–∫ –±–µ—Å–∫—Ä–∞–π–Ω–µ–µ –Ω–µ–±–æ, –∏ –∑–¥–æ—Ä–æ–≤—å—è ‚Äî –∫—Ä–µ–ø–∫–æ–≥–æ, –∫–∞–∫ –∞–ª–º–∞–∑, —á—Ç–æ–±—ã –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –¥–∞—Ä–∏–ª —Å–∏–ª—ã –¥–ª—è –Ω–æ–≤—ã—Ö —Å–≤–µ—Ä—à–µ–Ω–∏–π.",
      "‚ú® –ò–∑–æ–±–∏–ª–∏—è –≤–æ –≤—Å—ë–º - –ø—É—Å—Ç—å —Ñ–∏–Ω–∞–Ω—Å—ã –ø–æ—é—Ç —Ö–æ—Ä–æ–º, –∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —Ä–∞—Å—Ç—É—Ç, –∫–∞–∫ —Ü–≤–µ—Ç—ã –≤ —Ç–≤–æ—ë–º –±—É–¥—É—â–µ–º —Å–∞–¥—É)))",
      "‚ú® –õ—é–±–≤–∏ - –Ω–∞—à–µ–π, —Ç–∞–∫–æ–π –∂–∏–≤–æ–π –∏ –Ω–∞—Å—Ç–æ—è—â–µ–π.",
      "–°–ø–∞—Å–∏–±–æ —Ç–µ–±–µ‚Ä¶",
      "–ó–∞ —Ç–æ, —á—Ç–æ –ø–æ–¥–∞—Ä–∏–ª–∞ –º–Ω–µ –µ—â—ë –æ–¥–∏–Ω –≥–æ–¥ —Å–æ–≤–º–µ—Å—Ç–Ω—ã—Ö –º–≥–Ω–æ–≤–µ–Ω–∏–π - –Ω–∞—à–∏—Ö —Å–º–µ—à–Ω—ã—Ö –∏—Å—Ç–æ—Ä–∏–π,",
      "–¢–∞–π–Ω—ã—Ö –≤–∑–≥–ª—è–¥–æ–≤ –∏ –¥–∞–∂–µ —Ç–µ—Ö —Å–ø–æ—Ä–æ–≤, –ø–æ—Å–ª–µ –∫–æ—Ç–æ—Ä—ã—Ö –º—ã —Å—Ç–∞–Ω–æ–≤–∏–º—Å—è –µ—â—ë –±–ª–∏–∂–µ.",
      "–°–ø–∞—Å–∏–±–æ, —á—Ç–æ —Ç—ã –µ—Å—Ç—å, —á—Ç–æ –º—ã —É—á–∏–º—Å—è –ø–æ–Ω–∏–º–∞—Ç—å –¥—Ä—É–≥ –¥—Ä—É–≥–∞ —Å–∫–≤–æ–∑—å –ª—é–±—ã–µ —Ç—É—á–∏.",
      "–¢—ã - –º–æ–π —Å–∞–º—ã–π —Ü–µ–Ω–Ω—ã–π –ø–æ–¥–∞—Ä–æ–∫ –æ—Ç —Å—É–¥—å–±—ã.",
      "–ó–Ω–∞–π —á—Ç–æ –¥–∞–∂–µ –∫–æ–≥–¥–∞ –º—ã —Å–ø–æ—Ä–∏–º, —è –ª—é–±–ª—é —Ç–µ–±—è —Å–∏–ª—å–Ω–µ–µ, —á–µ–º –∫–∞–∂–µ—Ç—Å—è.",
      "–õ—é–±–ª—é —Ç–≤–æ—é –∏—Å–∫—Ä–µ–Ω–Ω–æ—Å—Ç—å, —Ç–≤–æ–π –±–ª–µ—Å–∫ –≤ –≥–ª–∞–∑–∞—Ö –∏ —Ç—É —É–ø—Ä—è–º—É—é –ø—Ä—è–¥—å –≤–æ–ª–æ—Å,",
      "–∫–æ—Ç–æ—Ä–∞—è –≤–µ—á–Ω–æ –≤—ã–±–∏–≤–∞–µ—Ç—Å—è –∏–∑ –ø—Ä–∏—á—ë—Å–∫–∏ —Ö–µ—Ö–µ—Ö–µ—Ö–µ.",
      "–õ—é–±–ª—é –∑–∞ —Ç–æ, —á—Ç–æ —Ç—ã ‚Äî —ç—Ç–æ —Ç—ã. ‚ù§Ô∏è",
      "–ú–µ—á—Ç–∞—é, —á—Ç–æ–±—ã –Ω–∞—à–∞ –∂–∏–∑–Ω—å –≤–º–µ—Å—Ç–µ —Å—Ç–∞–ª–∞ –∫–∞–∫ –≤–æ–ª—à–µ–±–Ω–∞—è –∫–Ω–∏–≥–∞",
      "–ß—Ç–æ–±—ã –∫–∞–∂–¥–∞—è –≥–ª–∞–≤–∞ –±—ã–ª–∞ –ø–æ–ª–Ω–∞ –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏–π, –Ω–µ–∂–Ω–æ—Å—Ç–∏ –∏ –º–æ–º–µ–Ω—Ç–æ–≤,",
      "–æ—Ç –∫–æ—Ç–æ—Ä—ã—Ö –∑–∞—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –¥—É—Ö.",
      "–ß—Ç–æ–±—ã –º—ã —Å–º–æ—Ç—Ä–µ–ª–∏ –≤ –æ–¥–Ω—É —Å—Ç–æ—Ä–æ–Ω—É, –¥–µ—Ä–∂–∞–ª–∏—Å—å –∑–∞ —Ä—É–∫–∏ –∏ –∑–Ω–∞–ª–∏ - –Ω–µ—Ç –ø—Ä–µ–≥—Ä–∞–¥, –∫–æ—Ç–æ—Ä—ã–µ –Ω–∞–º –Ω–µ –ø—Ä–æ–π—Ç–∏.",
      "–° –¥–Ω—ë–º —Ä–æ–∂–¥–µ–Ω–∏—è, —Å–æ–ª–Ω—ã—à–∫–æ!",
      "–ü—É—Å—Ç—å —ç—Ç–æ—Ç –≥–æ–¥ —Å—Ç–∞–Ω–µ—Ç –Ω–∞—á–∞–ª–æ–º —á–µ–≥–æ-—Ç–æ –ø–æ-–Ω–∞—Å—Ç–æ—è—â–µ–º—É –ø—Ä–µ–∫—Ä–∞—Å–Ω–æ–≥–æ.", 
      "–¢—ã –∑–∞—Å–ª—É–∂–∏–≤–∞–µ—à—å –≤—Å–µ–≥–æ —Å–∞–º–æ–≥–æ —Å–≤–µ—Ç–ª–æ–≥–æ, —è—Ä–∫–æ–≥–æ –∏ –¥–æ–±—Ä–æ–≥–æ.",
      "–Ø –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ –±–ª–∞–≥–æ–¥–∞—Ä–µ–Ω –í—Å–µ–ª–µ–Ω–Ω–æ–π –∑–∞ —Ç–æ, —á—Ç–æ –æ–Ω–∞ —Å–≤–µ–ª–∞ –Ω–∞—à–∏ –ø—É—Ç–∏.",
      "–ï—â—ë —Ä–∞–∑ –ø–æ–∑–¥—Ä–∞–≤–ª—è—é —Ç–µ–±—è —Å –¥–Ω—ë–º —Ä–æ–∂–¥–µ–Ω–∏—è!"
    ];

    let lineIndex = 0;
    let charIndex = 0;
    const contentSpan = document.getElementById('content');
    contentSpan.textContent = '';

    function typeLine() {
      if (lineIndex >= lines.length) return;

      const currentLine = lines[lineIndex];
      if (charIndex < currentLine.length) {
        contentSpan.textContent += currentLine[charIndex];
        charIndex++;
        setTimeout(typeLine, 50);
      } else {
        contentSpan.textContent += '\n';
        charIndex = 0;
        lineIndex++;
        setTimeout(typeLine, 50);
      }
    }
    
    typeLine();
  }
  </script>
</body>
</html>
