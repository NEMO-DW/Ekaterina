<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>–° –î–Ω—ë–º –†–æ–∂–¥–µ–Ω–∏—è!</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="hearts"></div>

  <div class="text-container">
    <pre id="typewriter"><span id="content"></span><span class="cursor">|</span></pre>
  </div>

  <script>
    const lines = [
      "–î–æ—Ä–æ–≥–∞—è, —Å –î–Ω—ë–º –†–æ–∂–¥–µ–Ω–∏—è!",
      "–°–ø–∞—Å–∏–±–æ —Ç–µ–±–µ –∑–∞ —Ç–≤–æ—é –¥–æ–±—Ä–æ—Ç—É –∏ —Ç–µ–ø–ª–æ.",
      "–¢—ã ‚Äî –Ω–∞—Å—Ç–æ—è—â–µ–µ —á—É–¥–æ –≤ –º–æ–µ–π –∂–∏–∑–Ω–∏.",
      "–ü—É—Å—Ç—å —Ç–≤–æ—è —É–ª—ã–±–∫–∞ –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –≥–∞—Å–Ω–µ—Ç.",
      "–Ø –±–ª–∞–≥–æ–¥–∞—Ä–µ–Ω –∑–∞ –∫–∞–∂–¥–æ–µ –º–≥–Ω–æ–≤–µ–Ω–∏–µ —Å —Ç–æ–±–æ–π. –≤–∞—ã–∞  –∞–≤—ã–∞—ã –≤–∞ –≤—ã–∞ —ã–≤–∞—ã–≤ –∞—ã–≤–∞ —ã–≤–≤ –∞—ã –≤–∞"
    ];

    const speed = 50;
    const contentSpan = document.getElementById('content');
    const typewriter = document.getElementById('typewriter');
    const container = document.querySelector('.text-container');

    // üìè –ü–æ–¥–≥–æ—Ç–æ–≤–∏–º –ø–æ–ª–Ω—ã–π —Ç–µ–∫—Å—Ç —Å—Ä–∞–∑—É
    const fullText = lines.join('\n');
    contentSpan.textContent = fullText;

    // üìê –†–∞—Å—Å—á–∏—Ç–∞–µ–º –º–∞—Å—à—Ç–∞–±
    function scaleToFit() {
      let scale = 1;
      typewriter.style.transform = `scale(${scale})`;

      while (
        (typewriter.scrollWidth > container.clientWidth ||
         typewriter.scrollHeight > container.clientHeight) &&
        scale > 0.1
      ) {
        scale -= 0.01;
        typewriter.style.transform = `scale(${scale})`;
      }
    }

    scaleToFit(); // üì¶ –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º —Å—Ä–∞–∑—É

    // ‚è± –ü–æ—Å–ª–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è ‚Äî –æ—á–∏—â–∞–µ–º –∏ –∑–∞–ø—É—Å–∫–∞–µ–º –ø–µ—á–∞—Ç–∞–Ω–∏–µ
    contentSpan.textContent = '';

    let lineIndex = 0;
    let charIndex = 0;

    function typeLine() {
      if (lineIndex >= lines.length) return;

      const currentLine = lines[lineIndex];
      if (charIndex < currentLine.length) {
        contentSpan.textContent += currentLine[charIndex];
        charIndex++;
        setTimeout(typeLine, speed);
      } else {
        contentSpan.textContent += '\n';
        charIndex = 0;
        lineIndex++;
        setTimeout(typeLine, speed);
      }
    }

    setTimeout(typeLine, 500); // ‚åõ –°—Ç–∞—Ä—Ç –ø–µ—á–∞—Ç–∞–Ω–∏—è

    // üíñ –°–µ—Ä–¥–µ—á–∫–∏
    function createHeart() {
      const heart = document.createElement("img");
      heart.src = "img/heart2.png";
      heart.className = "heart";

      const baseSize = window.innerWidth < 768 ? 4 : 2;
      const size = Math.random() * baseSize + baseSize;
      heart.style.width = `${size}vw`;
      heart.style.left = `${Math.random() * 100}%`;
      heart.style.animationDuration = `${4 + Math.random() * 3}s`;

      document.querySelector(".hearts").appendChild(heart);
      setTimeout(() => heart.remove(), 7000);
    }

    setInterval(createHeart, 300);
  </script>
</body>
</html>
