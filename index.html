<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>–° –î–Ω—ë–º –†–æ–∂–¥–µ–Ω–∏—è!</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="hearts"></div>

  <div class="text-container">
    <pre id="typewriter"><span id="content"></span><span class="cursor">|</span></pre>
  </div>

  <script>
    const lines = [
      "–î–æ—Ä–æ–≥–∞—è, —Å –î–Ω—ë–º –†–æ–∂–¥–µ–Ω–∏—è!",
      "–°–ø–∞—Å–∏–±–æ —Ç–µ–±–µ –∑–∞ —Ç–≤–æ—é –¥–æ–±—Ä–æ—Ç—É –∏ —Ç–µ–ø–ª–æ.",
      "–¢—ã ‚Äî –Ω–∞—Å—Ç–æ—è—â–µ–µ —á—É–¥–æ –≤ –º–æ–µ–π –∂–∏–∑–Ω–∏.",
      "–ü—É—Å—Ç—å —Ç–≤–æ—è —É–ª—ã–±–∫–∞ –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –≥–∞—Å–Ω–µ—Ç.",
      "–Ø –±–ª–∞–≥–æ–¥–∞—Ä–µ–Ω –∑–∞ –∫–∞–∂–¥–æ–µ –º–≥–Ω–æ–≤–µ–Ω–∏–µ —Å —Ç–æ–±–æ–π."
    ];

    const speed = 50;
    let lineIndex = 0;
    let charIndex = 0;
    const contentSpan = document.getElementById('content');
    const typewriter = document.getElementById('typewriter');

    function typeLine() {
      if (lineIndex >= lines.length) return;

      const currentLine = lines[lineIndex];
      if (charIndex < currentLine.length) {
        contentSpan.textContent += currentLine[charIndex];
        charIndex++;
        resizeToFit();
        setTimeout(typeLine, speed);
      } else {
        contentSpan.textContent += '\n';
        charIndex = 0;
        lineIndex++;
        resizeToFit();
        setTimeout(typeLine, speed);
      }
    }

    function resizeToFit() {
      const container = document.querySelector('.text-container');
      let scale = 1;
      typewriter.style.transform = `scale(${scale})`;

      // –£–º–µ–Ω—å—à–∞–µ–º –º–∞—Å—à—Ç–∞–±, –µ—Å–ª–∏ –Ω–µ –ø–æ–º–µ—â–∞–µ—Ç—Å—è
      while ((typewriter.scrollWidth > container.clientWidth || typewriter.scrollHeight > container.clientHeight) && scale > 0.3) {
        scale -= 0.01;
        typewriter.style.transform = `scale(${scale})`;
      }
    }

    setTimeout(typeLine, 1000);

    // üíñ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–µ—Ä–¥–µ—á–µ–∫
    function createHeart() {
      const heart = document.createElement("img");
      heart.src = "img/heart2.png";
      heart.className = "heart";

      const baseSize = window.innerWidth < 768 ? 4 : 2;
      const size = Math.random() * baseSize + baseSize;
      heart.style.width = `${size}vw`;
      heart.style.left = `${Math.random() * 100}%`;
      heart.style.animationDuration = `${4 + Math.random() * 3}s`;

      document.querySelector(".hearts").appendChild(heart);
      setTimeout(() => heart.remove(), 7000);
    }

    setInterval(createHeart, 300);
  </script>
</body>
</html>
